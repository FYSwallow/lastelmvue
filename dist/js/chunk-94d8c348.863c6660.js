(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94d8c348"],{"0461":function(t,e,r){},"25f0":function(t,e,r){"use strict";var n=r("6eeb"),i=r("825a"),a=r("d039"),o=r("ad6d"),s="toString",c=RegExp.prototype,u=c[s],l=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=s;(l||f)&&n(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),r=t.flags,n=String(void 0===r&&t instanceof RegExp&&!("flags"in c)?o.call(t):r);return"/"+e+"/"+n}),{unsafe:!0})},2909:function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("25f0"),r("3ca3"),r("ddb0");function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){return n(t)||i(t)||a()}r.d(e,"a",(function(){return o}))},"2c4b":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("van-tabbar-item",{attrs:{icon:"home-o",to:"/home",name:"/home"}},[t._v("首页")]),r("van-tabbar-item",{attrs:{icon:"balance-list-o",to:"/order",name:"/order"}},[t._v("订单")]),r("van-tabbar-item",{attrs:{icon:"setting-o",to:"/user/main",name:"/user/main"}},[t._v("我的")])],1)},i=[],a={data:function(){return{active:this.$route.path}}},o=a,s=(r("afab"),r("2877")),c=Object(s["a"])(o,n,i,!1,null,"5b69ea1b",null);e["a"]=c.exports},"31c5":function(t,e,r){},"3ca3":function(t,e,r){"use strict";var n=r("6547").charAt,i=r("69f3"),a=r("7dd0"),o="String Iterator",s=i.set,c=i.getterFor(o);a(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},4374:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order"},[r("header",{staticClass:"order-header"},[r("div",{staticClass:"header-left",on:{click:t.goback}},[r("van-icon",{attrs:{name:"arrow-left"}})],1),r("div",{staticClass:"header-center"},[t._v("订单列表")])]),r("section",{staticClass:"order-container",on:{scroll:t.handleScroll}},[r("ul",{ref:"orderList",staticClass:"order-list-ul"},[t._l(t.orderList,(function(e,n){return r("li",{key:n,staticClass:"order-list-li"},[r("div",{staticClass:"list-left"},[r("img",{attrs:{src:e.restaurant_image_url,alt:""}})]),r("section",{staticClass:"list-right"},[r("header",{staticClass:"item-header"},[r("div",{staticClass:"item-header-left"},[r("h3",{staticClass:"item-shop-name"},[r("span",[t._v(t._s(e.restaurant_name))]),r("van-icon",{attrs:{name:"arrow"}})],1),r("p",{staticClass:"item-created-time"},[t._v(t._s(e.formatted_created_at))])]),r("div",{staticClass:"item-header-right"},[r("span",[t._v(t._s(e.status_bar.title))])])]),r("section",{staticClass:"item-main"},[r("section",{staticClass:"item-main-left"},[r("p",{staticClass:"foods-detail"},[t._v(t._s(e.basket.group[0][0].name)+t._s(e.basket.group[0].length>1?" 等"+e.basket.group[0].length+"件商品":""))])]),r("div",{staticClass:"item-main-right"},[r("span",[t._v("¥"+t._s(e.total_amount.toFixed(2)))])])]),r("section",{staticClass:"item-last"},["等待支付"==e.status_bar.title?r("v-computedTime",{staticClass:"waitPay",attrs:{time:e.time_pass}}):r("router-link",{staticClass:"timeOut",attrs:{to:{path:"/shop",query:{geohash:t.geohash,id:e.restaurant_id}},tag:"span"}},[t._v("再来一单")])],1)])])})),r("li",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"order-loading"},[r("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1)],2)]),r("v-footer")],1)},i=[],a=(r("a4d3"),r("99af"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2909")),o=(r("96cf"),r("1da1")),s=r("ade3"),c=r("2f62"),u=r("2241"),l=r("365c"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page"},[r("span",{staticClass:"rem-time",staticStyle:{padding:"5px",color:"orange","border-width":"1px","border-style":"solid","border-color":"orange"},on:{click:t.gotoPay}},[t._v(t._s(t.remaining))])])},d=[],h=(r("c975"),r("d3b7"),r("e25e"),r("25f0"),{data:function(){return{countNum:900}},mounted:function(){this.countNum-=this.numTime,this.remainingTime()},props:["time"],methods:{closeTip:function(){this.$emit("closeTip")},remainingTime:function(){var t=this;clearInterval(this.timer),this.timer=setInterval((function(){t.countNum--,0==t.countNum&&clearInterval(t.timer)}),1e3)},gotoPay:function(){u["a"].alert({message:"抱歉,暂不开放支付接口"})}},computed:{remaining:function(){var t=parseInt(this.countNum/60),e=parseInt(this.countNum%60);return t<10&&(t="0"+t),e<10&&(e="0"+e),"去支付(还剩"+t+"分"+e+"秒)"},numTime:function(){return-1!==this.time.toString().indexOf("分钟")?60*parseInt(this.time):parseInt(this.time)}}}),p=h,v=r("2877"),m=Object(v["a"])(p,f,d,!1,null,"28f0a1d8",null),g=m.exports,b=r("2c4b");function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O={data:function(){return{orderList:[],preventRepeat:!1,showLoading:!0,offset:0}},computed:x({},Object(c["c"])(["userInfo","cityInfo"]),{geohash:function(){return this.cityInfo.latitude+","+this.cityInfo.longitude}}),mounted:function(){this.initData()},components:{vComputedTime:g,vFooter:b["a"]},methods:{initData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.hideLoading(),!this.userInfo){t.next=8;break}return t.next=4,Object(l["i"])(this.userInfo.id,0);case 4:e=t.sent,this.orderList=e.data,t.next=9;break;case 8:u["a"].confirm({message:"抱歉,你还没有登陆!是否前去登陆??"}).then((function(){r.$router.push("/login")}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goback:function(){this.$router.go(-1)},handleScroll:function(t){var e=this.$refs.orderList.offsetHeight,r=document.documentElement.clientHeight;t.target.scrollTop+r>e-10&&this.loaderMore()},loaderMore:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.preventRepeat){t.next=2;break}return t.abrupt("return");case 2:return this.preventRepeat=!0,this.showLoading=!0,this.offset+=10,t.next=7,Object(l["i"])(this.userInfo.user_id,this.offset);case 7:if(e=t.sent,this.hideLoading(),this.orderList=[].concat(Object(a["a"])(this.orderList),Object(a["a"])(e)),!(e.length<10)){t.next=12;break}return t.abrupt("return");case 12:this.preventRepeat=!1;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),hideLoading:function(){this.showLoading=!1}}},w=O,_=(r("dafe"),Object(v["a"])(w,n,i,!1,null,"413d4d16",null));e["default"]=_.exports},"4df4":function(t,e,r){"use strict";var n=r("f8c2"),i=r("7b0b"),a=r("9bdd"),o=r("e95a"),s=r("50c4"),c=r("8418"),u=r("35a1");t.exports=function(t){var e,r,l,f,d,h=i(t),p="function"==typeof this?this:Array,v=arguments.length,m=v>1?arguments[1]:void 0,g=void 0!==m,b=0,y=u(h);if(g&&(m=n(m,v>2?arguments[2]:void 0,2)),void 0==y||p==Array&&o(y))for(e=s(h.length),r=new p(e);e>b;b++)c(r,b,g?m(h[b],b):h[b]);else for(f=y.call(h),d=f.next,r=new p;!(l=d.call(f)).done;b++)c(r,b,g?a(f,m,[l.value,b],!0):l.value);return r.length=b,r}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),i=r("5899"),a="["+i+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),c=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},6547:function(t,e,r){var n=r("a691"),i=r("1d80"),a=function(t){return function(e,r){var a,o,s=String(i(e)),c=n(r),u=s.length;return c<0||c>=u?t?"":void 0:(a=s.charCodeAt(c),a<55296||a>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):a:t?s.slice(c,c+2):o-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},a630:function(t,e,r){var n=r("23e7"),i=r("4df4"),a=r("1c7e"),o=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:i})},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},afab:function(t,e,r){"use strict";var n=r("31c5"),i=r.n(n);i.a},c975:function(t,e,r){"use strict";var n=r("23e7"),i=r("4d64").indexOf,a=r("b301"),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,c=a("indexOf");n({target:"Array",proto:!0,forced:s||c},{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},d28b:function(t,e,r){var n=r("746f");n("iterator")},dafe:function(t,e,r){"use strict";var n=r("0461"),i=r.n(n);i.a},ddb0:function(t,e,r){var n=r("da84"),i=r("fdbc"),a=r("e260"),o=r("9112"),s=r("b622"),c=s("iterator"),u=s("toStringTag"),l=a.values;for(var f in i){var d=n[f],h=d&&d.prototype;if(h){if(h[c]!==l)try{o(h,c,l)}catch(v){h[c]=l}if(h[u]||o(h,u,f),i[f])for(var p in a)if(h[p]!==a[p])try{o(h,p,a[p])}catch(v){h[p]=a[p]}}}},e01a:function(t,e,r){"use strict";var n=r("23e7"),i=r("83ab"),a=r("da84"),o=r("5135"),s=r("861d"),c=r("9bf2").f,u=r("e893"),l=a.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};u(d,l);var h=d.prototype=l.prototype;h.constructor=d;var p=h.toString,v="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(o(f,t))return"";var r=v?e.slice(7,-1):e.replace(m,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},e25e:function(t,e,r){var n=r("23e7"),i=r("e583");n({global:!0,forced:parseInt!=i},{parseInt:i})},e583:function(t,e,r){var n=r("da84"),i=r("58a8").trim,a=r("5899"),o=n.parseInt,s=/^[+-]?0[Xx]/,c=8!==o(a+"08")||22!==o(a+"0x16");t.exports=c?function(t,e){var r=i(String(t));return o(r,e>>>0||(s.test(r)?16:10))}:o}}]);
//# sourceMappingURL=chunk-94d8c348.863c6660.js.map