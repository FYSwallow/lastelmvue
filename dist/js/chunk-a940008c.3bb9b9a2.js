(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a940008c"],{a78d:function(t,e,s){},b479:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("header",{staticClass:"header"},[s("div",{staticClass:"header-left",on:{click:t.goback}},[s("van-icon",{attrs:{name:"arrow-left"}}),s("span",[t._v("返回")])],1),s("div",{staticClass:"header-middle"},[t._v("用户登陆")])]),s("van-cell-group",{staticClass:"login-form"},[s("van-field",{attrs:{required:"",clearable:"",label:"用户名","label-width":"60",placeholder:"请输入用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("van-field",{attrs:{type:t.showPassword?"text":"password",label:"密码","label-width":"60",placeholder:"请输入密码",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[s("div",{staticClass:"button-switch",class:{"show-password":t.showPassword},attrs:{slot:"button"},slot:"button"},[s("span",{staticClass:"text",class:[t.showPassword?"text-on":"text-off"]},[t._v("abc...")]),s("span",{staticClass:"show",class:[t.showPassword?"show-on":"show-off"],on:{click:t.changePassWordType}})])]),s("van-field",{attrs:{required:"",clearable:"",label:"验证码","label-width":"60",placeholder:"请输入验证码"},model:{value:t.sms,callback:function(e){t.sms=e},expression:"sms"}},[t.captchaCodeImg?s("div",{staticClass:"captchacode",attrs:{slot:"button"},slot:"button"},[s("img",{staticClass:"captchacode-img",attrs:{src:t.captchaCodeImg},on:{click:t.getCaptchaCode}})]):s("van-button",{attrs:{slot:"button",size:"small",type:"primary"},on:{click:t.getCaptchaCode},slot:"button"},[t._v("获取验证码")])],1)],1),s("p",{staticClass:"login-tips"},[t._v("温馨提示: 为注册过的账号, 登录时将自动注册")]),s("p",{staticClass:"login-tips"},[t._v("注册过的用户可凭账号密码登陆")]),s("button",{staticClass:"login-button",on:{click:t.captchaCodeLogin}},[t._v("登录")]),s("router-link",{staticClass:"to-forget",attrs:{to:"/user/forget"}},[t._v("重置密码?")]),s("van-dialog",{attrs:{title:"提示","show-cancel-button":"",message:t.alertText},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}})],1)},r=[],n=(s("a4d3"),s("4de4"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("96cf"),s("1da1")),o=s("ade3"),c=s("f564"),i=s("2f62"),l=s("365c");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={data:function(){return{message:"",username:null,password:null,showPassword:!1,sms:null,captchaCodeImg:null,showAlert:!1,alertText:null,userInfo:null}},mounted:function(){this.initData()},methods:d({},Object(i["b"])(["getUserInfo"]),{initData:function(){},getCaptchaCode:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["k"])();case 2:e=t.sent,this.captchaCodeImg=e.data.code;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePassWordType:function(){this.showPassword=!this.showPassword},captchaCodeLogin:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.username){t.next=6;break}return this.showAlert=!0,this.alertText="请输入手机号/邮箱/用户名",t.abrupt("return");case 6:if(this.password){t.next=12;break}return this.showAlert=!0,this.alertText="请输入密码",t.abrupt("return");case 12:if(this.sms){t.next=16;break}return this.showAlert=!0,this.alertText="请输入验证码",t.abrupt("return");case 16:return t.next=18,Object(l["a"])(this.username,this.password,this.sms);case 18:if(e=t.sent,console.log(e),s=e.data.data,s.user_id){t.next=26;break}return Object(c["a"])({type:"danger",message:"请检查密码和用户名是否匹配"}),t.abrupt("return");case 26:this.getUserInfo(s),Object(c["a"])({type:"success",message:"登陆成功",duration:1e3}),setTimeout((function(){a.$router.go(-1)}),1e3);case 29:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goback:function(){this.$router.go(-1)}})},p=h,b=(s("dd74"),s("2877")),f=Object(b["a"])(p,a,r,!1,null,"e44994d0",null);e["default"]=f.exports},dd74:function(t,e,s){"use strict";var a=s("a78d"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-a940008c.3bb9b9a2.js.map