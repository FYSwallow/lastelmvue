{"version":3,"sources":["webpack:///./src/page/user/children/usermain.vue?a367","webpack:///./src/assets/images/default.jpg","webpack:///./src/assets/images/tel_logo.png","webpack:///./src/page/user/children/usermain.vue?faa7","webpack:///src/page/user/children/usermain.vue","webpack:///./src/page/user/children/usermain.vue?1d32","webpack:///./src/page/user/children/usermain.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","userInfo","imgBaseUrl","avatar","_v","_s","username","mobile","parseInt","balance","toFixed","count","pointNumber","on","goOrder","staticRenderFns","data","profiletitle","resetname","mounted","initData","computed","watch","methods","console","log","$router","push","message","component"],"mappings":"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","file":"js/chunk-9b404e86.8eda1200.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usermain.vue?vue&type=style&index=0&id=9ec27bd4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usermain.vue?vue&type=style&index=0&id=9ec27bd4&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/default.fda40604.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAIAAAAZoM+0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAu0lEQVR42mMwnPCCbohhEFnmPe/1jOOfN139RgwCqiTfMqD+/ySCpx//4LESp2V1uz7+JxekrHlHmmVAN5JtGTBISLAM6LT/FACgQ8mxDKiNJESRZcCYIylxn378c9SyUctGLRu1bNSyUctGLRu1bNSywdFuxGUWsM2Lp8lMTcuAXRugGmAHgjqWAY3DYxkkIiHRQ4W2Pnn9JfJ7Mfg9R0bqINAZBNoHDDFgcBHZqwCqxJ9VGEZqB566CAChKS6N2wLkkQAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"usermain\"},[_c('router-link',{staticClass:\"user-detail\",attrs:{\"to\":_vm.userInfo? '/user/info': '/login'}},[(_vm.userInfo)?_c('img',{staticClass:\"user-avactor\",attrs:{\"src\":_vm.imgBaseUrl+_vm.avatar}}):_c('img',{staticClass:\"user-avactor\",attrs:{\"src\":require(\"@/assets/images/default.jpg\")}}),_c('section',{staticClass:\"user-info\"},[_c('div',{staticClass:\"user-login ellipsis\"},[_c('span',[_vm._v(_vm._s(_vm.username))])]),_c('div',{staticClass:\"user-tel\"},[_c('img',{staticClass:\"tel-logo\",attrs:{\"src\":require(\"@/assets/images/tel_logo.png\")}}),_c('span',[_vm._v(_vm._s(_vm.mobile))])])]),_c('span',{staticClass:\"user-link fa fa-angle-right\"})]),_c('div',{staticClass:\"user-data\"},[_c('ul',[_c('li',[_c('span',{staticClass:\"num\"},[_c('i',{staticClass:\"num-banlance\"},[_vm._v(_vm._s(parseInt(_vm.balance).toFixed(2)))]),_vm._v(\"元 \")]),_c('span',{staticClass:\"description\"},[_vm._v(\"我的余额\")])]),_c('li',[_c('span',{staticClass:\"num\"},[_c('i',{staticClass:\"num-offer\"},[_vm._v(_vm._s(_vm.count))]),_vm._v(\"个 \")]),_c('span',{staticClass:\"description\"},[_vm._v(\"我的优惠\")])]),_c('li',[_c('span',{staticClass:\"num\"},[_c('i',{staticClass:\"num-score\"},[_vm._v(_vm._s(_vm.pointNumber))]),_vm._v(\"分 \")]),_c('span',{staticClass:\"description\"},[_vm._v(\"我的积分\")])])])]),_c('section',{staticClass:\"user-profile\"},[_c('ul',[_c('li',{on:{\"click\":_vm.goOrder}},[_c('span',[_c('van-icon',{staticClass:\"icon-middle\",attrs:{\"name\":\"orders-o\"}}),_vm._v(\"我的订单 \")],1),_c('van-icon',{staticClass:\"icon-left\",attrs:{\"name\":\"arrow\"}})],1),_c('li',[_c('span',[_c('van-icon',{staticClass:\"icon-middle\",attrs:{\"name\":\"idcard\"}}),_vm._v(\"饿了吗会员卡 \")],1),_c('van-icon',{staticClass:\"icon-left\",attrs:{\"name\":\"arrow\"}})],1)])]),_c('section',{staticClass:\"user-profile\"},[_c('ul',[_c('li',[_c('span',[_c('van-icon',{staticClass:\"icon-middle\",attrs:{\"name\":\"phone-circle-o\"}}),_vm._v(\"服务中心 \")],1),_c('van-icon',{staticClass:\"icon-left\",attrs:{\"name\":\"arrow\"}})],1),_c('li',[_c('span',[_c('van-icon',{staticClass:\"icon-middle\",attrs:{\"name\":\"down\"}}),_vm._v(\"下载饿了么APP \")],1),_c('van-icon',{staticClass:\"icon-left\",attrs:{\"name\":\"arrow\"}})],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"usermain\">\r\n    <router-link class=\"user-detail\" :to=\"userInfo? '/user/info': '/login'\">\r\n      <img :src=\"imgBaseUrl+avatar\" class=\"user-avactor\" v-if=\"userInfo\" />\r\n      <img src=\"@/assets/images/default.jpg\" class=\"user-avactor\" v-else />\r\n      <section class=\"user-info\">\r\n        <div class=\"user-login ellipsis\">\r\n          <span>{{username}}</span>\r\n        </div>\r\n        <div class=\"user-tel\">\r\n          <img src=\"@/assets/images/tel_logo.png\" class=\"tel-logo\" />\r\n          <span>{{mobile}}</span>\r\n        </div>\r\n      </section>\r\n      <span class=\"user-link fa fa-angle-right\"></span>\r\n    </router-link>\r\n    <div class=\"user-data\">\r\n      <ul>\r\n        <li>\r\n          <span class=\"num\">\r\n            <i class=\"num-banlance\">{{parseInt(balance).toFixed(2)}}</i>元\r\n          </span>\r\n          <span class=\"description\">我的余额</span>\r\n        </li>\r\n        <li>\r\n          <span class=\"num\">\r\n            <i class=\"num-offer\">{{count}}</i>个\r\n          </span>\r\n          <span class=\"description\">我的优惠</span>\r\n        </li>\r\n        <li>\r\n          <span class=\"num\">\r\n            <i class=\"num-score\">{{pointNumber}}</i>分\r\n          </span>\r\n          <span class=\"description\">我的积分</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <section class=\"user-profile\">\r\n      <ul>\r\n        <li @click=\"goOrder\">\r\n          <span>\r\n            <van-icon name=\"orders-o\" class=\"icon-middle\" />我的订单\r\n          </span>\r\n          <van-icon name=\"arrow\" class=\"icon-left\" />\r\n        </li>\r\n        <li>\r\n          <span>\r\n            <van-icon name=\"idcard\" class=\"icon-middle\" />饿了吗会员卡\r\n          </span>\r\n          <van-icon name=\"arrow\" class=\"icon-left\" />\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <section class=\"user-profile\">\r\n      <ul>\r\n        <li>\r\n          <span>\r\n            <van-icon name=\"phone-circle-o\" class=\"icon-middle\" />服务中心\r\n          </span>\r\n          <van-icon name=\"arrow\" class=\"icon-left\" />\r\n        </li>\r\n        <li>\r\n          <span>\r\n            <van-icon name=\"down\" class=\"icon-middle\" />下载饿了么APP\r\n          </span>\r\n          <van-icon name=\"arrow\" class=\"icon-left\" />\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Dialog } from \"vant\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport { reqUserInfo } from \"@/api/index\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      profiletitle: \"我的\",\r\n      username: \"登录/注册\", //用户名\r\n      resetname: \"\",\r\n      mobile: \"暂无绑定手机号\", //电话号码\r\n      balance: 0, //我的余额\r\n      count: 0, //优惠券个数\r\n      pointNumber: 0, //积分数\r\n      avatar: \"\", //头像地址\r\n      imgBaseUrl: \"/api/img/\" //图片地址\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initData();\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\", \"avactor\"])\r\n  },\r\n  watch: {\r\n    userInfo: function() {\r\n      this.initData();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\"getUserInfo\"]),\r\n    async initData() {\r\n      console.log(this.userInfo);\r\n      if (this.userInfo && this.userInfo.user_id) {\r\n        this.avatar = this.userInfo.avatar;\r\n        console.log(this.avatar);\r\n        this.username = this.userInfo.username;\r\n        this.mobile = this.userInfo.mobile || \"暂无绑定手机号\";\r\n        this.balance = this.userInfo.balance;\r\n        this.count = this.userInfo.gift_amount;\r\n        this.pointNumber = this.userInfo.point;\r\n      } else {\r\n        this.username = \"登录/注册\";\r\n        this.mobile = \"暂无绑定手机号\";\r\n      }\r\n    },\r\n\r\n    //去我的订单页面\r\n    goOrder() {\r\n      console.log(this.userInfo);\r\n      if (!this.userInfo) {\r\n        Dialog.alert({\r\n          message: \"抱歉,你还未登陆!\"\r\n        }).then(() => {\r\n          // on close\r\n        });\r\n      } else {\r\n        this.$router.push(\"/order\");\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.usermain {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  .user-detail {\r\n    display: flex;\r\n    background-color: #01a3f8;\r\n    padding: 10px;\r\n    .user-avactor {\r\n      width: 80px;\r\n      height: 80px;\r\n      border-radius: 40px;\r\n    }\r\n    .user-info {\r\n      flex: 1;\r\n      color: #fff;\r\n      padding-left: 10px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      .user-login {\r\n        width: 50%;\r\n        font-size: 20px;\r\n        font-weight: 600;\r\n      }\r\n      .user-tel {\r\n        .tel-logo {\r\n          width: 20px;\r\n          vertical-align: middle;\r\n        }\r\n      }\r\n    }\r\n    .user-link {\r\n      line-height: 80px;\r\n      font-size: 18px;\r\n      font-weight: 600;\r\n      color: #eee;\r\n    }\r\n  }\r\n  .user-data {\r\n    background-color: #fff;\r\n    ul {\r\n      display: flex;\r\n      height: 100%;\r\n      li {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        height: 100%;\r\n        border-right: 1px solid #eee;\r\n        padding-bottom: 20px;\r\n        .num {\r\n          font-size: 14px;\r\n          line-height: 60px;\r\n          i {\r\n            font-style: normal;\r\n            font-size: 30px;\r\n            color: #ff9900;\r\n            font-weight: 700;\r\n            &.num-offer {\r\n              color: #ff5f3e;\r\n            }\r\n            &.num-score {\r\n              color: #6ac20b;\r\n            }\r\n          }\r\n        }\r\n        .description {\r\n          font-size: 14px;\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .user-profile {\r\n    margin-top: 10px;\r\n    background-color: #fff;\r\n    ul {\r\n      li {\r\n        padding: 10px;\r\n        border-bottom: 1px solid #eee;\r\n        display: flex;\r\n        span {\r\n          .icon-middle {\r\n            padding-right: 5px;\r\n            vertical-align: middle;\r\n            font-size: 20px;\r\n          }\r\n        }\r\n        .icon-left {\r\n          flex: 1;\r\n          text-align: right;\r\n          vertical-align: middle;\r\n          font-size: 20px;\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usermain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usermain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./usermain.vue?vue&type=template&id=9ec27bd4&scoped=true&\"\nimport script from \"./usermain.vue?vue&type=script&lang=js&\"\nexport * from \"./usermain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./usermain.vue?vue&type=style&index=0&id=9ec27bd4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ec27bd4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}