{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/page/confirmOrder/confirmOrder.vue?55c1","webpack:///./src/page/confirmOrder/confirmOrder.vue?4fdb","webpack:///src/page/confirmOrder/confirmOrder.vue","webpack:///./src/page/confirmOrder/confirmOrder.vue?e068","webpack:///./src/page/confirmOrder/confirmOrder.vue"],"names":["$","$values","values","target","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","call","push","module","exports","entries","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","goBack","attrs","_m","addAddress","userInfo","chooseAddress","_v","_s","name","sex","phone","style","backgroundColor","iconColor","tag","address","address_detail","checkoutData","delivery_reach_time","_e","cart","restaurant_info","_l","groups","item","id","quantity","price","extra","deliver_amount","total","writeRemark","class","showRemark","directives","rawName","value","expression","model","callback","$$v","message","showPopup","tablewareNum","height","show","columns","onCancel","onConfirm","confrimOrder","staticRenderFns","data","showList","restaurant_id","shopCart","computed","created","$route","query","cartList","mounted","initData","methods","$router","go","path","component"],"mappings":"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","file":"js/chunk-b7a1b874.8fdfa78c.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmOrder.vue?vue&type=style&index=0&id=1faa2043&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmOrder.vue?vue&type=style&index=0&id=1faa2043&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"confirmOrder\"},[_c('header',{staticClass:\"confirm-header\"},[_c('div',{staticClass:\"header-left\",on:{\"click\":_vm.goBack}},[_c('van-icon',{attrs:{\"name\":\"arrow-left\"}})],1),_vm._m(0)]),_c('section',{staticClass:\"confirm-container\"},[_c('section',{staticClass:\"send-position card\",on:{\"click\":_vm.addAddress}},[(!_vm.userInfo)?_c('div',{staticClass:\"add-address\"},[_c('span',[_vm._v(\"请先前去登录\")])]):(!_vm.chooseAddress)?_c('div',{staticClass:\"add-address\"},[_c('span',{staticClass:\"image-location\"},[_c('van-icon',{attrs:{\"name\":\"add-o\"}})],1),_c('span',[_vm._v(\"请添加一个地址\")])]):_c('div',{staticClass:\"address-detail-container\"},[_c('div',{staticClass:\"address-left\"},[_c('van-icon',{attrs:{\"name\":\"location-o\"}})],1),_c('div',{staticClass:\"address-right\"},[_c('header',[_c('span',[_vm._v(_vm._s(_vm.chooseAddress.name))]),_c('span',[_vm._v(_vm._s(_vm.chooseAddress.sex == 1 ? \"先生\" : \"女士\"))]),_c('span',[_vm._v(_vm._s(_vm.chooseAddress.phone))])]),_c('div',{staticClass:\"address-detail\"},[_c('span',{style:({backgroundColor: _vm.iconColor(_vm.chooseAddress.tag)})},[_vm._v(_vm._s(_vm.chooseAddress.tag))]),_c('p',[_vm._v(_vm._s(_vm.chooseAddress.address + _vm.chooseAddress.address_detail))])])])]),_c('div',{staticClass:\"address-choose\"},[_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('div',{staticClass:\"line\"}),_c('section',{staticClass:\"card send-time flex\"},[_c('div',{staticClass:\"time-left weight\"},[_vm._v(\"送达时间\")]),_c('div',{staticClass:\"time-right\"},[(_vm.checkoutData)?_c('span',[_vm._v(\"尽快送达 | 预计 \"+_vm._s(_vm.checkoutData.delivery_reach_time))]):_vm._e()])]),_c('section',{staticClass:\"card pay-methods flex\"},[_c('div',{staticClass:\"pay-left weight\"},[_vm._v(\"支付方式\")]),_c('div',{staticClass:\"pay-right\"},[_c('span',[_vm._v(\"在线支付\")]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('section',{staticClass:\"food card\"},[(_vm.checkoutData)?_c('header',{staticClass:\"shop-name weight border\"},[_c('span',[_vm._v(_vm._s(_vm.checkoutData.cart.restaurant_info.name))])]):_vm._e(),(_vm.checkoutData)?_c('ul',{staticClass:\"food-detail\"},_vm._l((_vm.checkoutData.cart.groups[0]),function(item){return _c('li',{key:item.id,staticClass:\"list flex\"},[_c('div',{staticClass:\"food-name\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"food-num\"},[_vm._v(\"x \"+_vm._s(item.quantity))]),_c('div',{staticClass:\"food-price weight\"},[_vm._v(\"¥\"+_vm._s(item.price))])])}),0):_vm._e(),(_vm.checkoutData)?_c('div',{staticClass:\"box-price list flex\"},[_c('div',{staticClass:\"box-left\"},[_vm._v(_vm._s(_vm.checkoutData.cart.extra[0].name)+\"费\")]),_c('div',{staticClass:\"box-right weight\"},[_vm._v(\"¥ \"+_vm._s(_vm.checkoutData.cart.extra[0].price))])]):_vm._e(),(_vm.checkoutData)?_c('div',{staticClass:\"delivery list flex border\"},[_vm._m(1),_c('div',{staticClass:\"delivery-right weight\"},[_vm._v(\"¥ \"+_vm._s(_vm.checkoutData.cart.deliver_amount || 0))])]):_vm._e(),_c('div',{staticClass:\"hongbao list flex border\"},[_c('div',{staticClass:\"hongbao-left weight\"},[_vm._v(\"红包/抵用券\")]),_c('div',{staticClass:\"hongbao-right\"},[_c('span',[_vm._v(\"无可用红包\")]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),(_vm.checkoutData)?_c('div',{staticClass:\"pay-money list flex\"},[_c('div',{staticClass:\"pay-left\"}),_c('div',{staticClass:\"pay-right\"},[_c('span',[_vm._v(\"小计\")]),_c('span',{staticClass:\"weight pay-price\"},[_vm._v(\"¥\"+_vm._s(_vm.checkoutData.cart.total))])])]):_vm._e()]),_c('section',{staticClass:\"remarks card\"},[_c('div',{staticClass:\"order-remark flex base\",on:{\"click\":_vm.writeRemark}},[_c('div',{staticClass:\"remark-left weight\"},[_vm._v(\"订单备注\")]),_c('div',{staticClass:\"remark-right choose\"},[_c('span',[_vm._v(\"口味、偏好\")]),_c('van-icon',{class:{'arrow-icon': _vm.showRemark},attrs:{\"name\":\"arrow\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRemark),expression:\"showRemark\"}],staticClass:\"remark-detail\"},[_c('van-field',{attrs:{\"rows\":\"1\",\"autosize\":\"\",\"label\":\"备注\",\"type\":\"textarea\",\"placeholder\":\"请输入备注内容\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1),_c('div',{staticClass:\"tableware flex base\",on:{\"click\":_vm.showPopup}},[_c('div',{staticClass:\"tableware-left weight\"},[_vm._v(\"餐具份数\")]),_c('div',{staticClass:\"tableware-right choose\"},[_c('span',[_vm._v(_vm._s(_vm.tablewareNum))]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('van-popup',{style:({ height: '30%' }),attrs:{\"closeable\":\"\",\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.columns,\"title\":\"选择本单餐具\"},on:{\"cancel\":_vm.onCancel,\"confirm\":_vm.onConfirm}})],1),_vm._m(2)],1)]),(_vm.checkoutData)?_c('footer',{staticClass:\"confirm-pay\"},[_c('div',{staticClass:\"footer-left\"},[_vm._v(\"待支付 ¥\"+_vm._s(_vm.checkoutData.cart.total))]),_c('div',{staticClass:\"footer-right\",on:{\"click\":_vm.confrimOrder}},[_vm._v(\"确认下单\")])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-middle\"},[_c('span',[_vm._v(\"确认订单\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"delivery-left\"},[_c('span',[_vm._v(\"配送费*\")]),_c('span',[_vm._v(\"蜂鸟配送\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"invoice flex base\"},[_c('div',{staticClass:\"invoice-left weight\"},[_vm._v(\"发票信息\")]),_c('div',{staticClass:\"invoice-right choose\"},[_vm._v(\"该店不支持线上开票，请电话联系商户\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"confirmOrder\">\r\n    <header class=\"confirm-header\">\r\n      <div class=\"header-left\" @click=\"goBack\">\r\n        <van-icon name=\"arrow-left\" />\r\n      </div>\r\n      <div class=\"header-middle\">\r\n        <span>确认订单</span>\r\n      </div>\r\n    </header>\r\n\r\n    <section class=\"confirm-container\">\r\n      <section class=\"send-position card\" @click=\"addAddress\">\r\n        <div class=\"add-address\" v-if=\"!userInfo\">\r\n          <span>请先前去登录</span>\r\n        </div>\r\n        <div class=\"add-address\" v-else-if=\"!chooseAddress\">\r\n          <span class=\"image-location\">\r\n            <van-icon name=\"add-o\" />\r\n          </span>\r\n          <span>请添加一个地址</span>\r\n        </div>\r\n        <div class=\"address-detail-container\" v-else>\r\n          <div class=\"address-left\">\r\n            <van-icon name=\"location-o\" />\r\n          </div>\r\n          <div class=\"address-right\">\r\n            <header>\r\n              <span>{{chooseAddress.name}}</span>\r\n              <span>{{chooseAddress.sex == 1 ? \"先生\" : \"女士\"}}</span>\r\n              <span>{{chooseAddress.phone}}</span>\r\n            </header>\r\n            <div class=\"address-detail\">\r\n              <span :style=\"{backgroundColor: iconColor(chooseAddress.tag)}\">{{chooseAddress.tag}}</span>\r\n              <p>{{chooseAddress.address + chooseAddress.address_detail}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"address-choose\">\r\n          <van-icon name=\"arrow\" />\r\n        </div>\r\n      </section>\r\n      <div class=\"line\"></div>\r\n      <section class=\"card send-time flex\">\r\n        <div class=\"time-left weight\">送达时间</div>\r\n        <div class=\"time-right\">\r\n          <span v-if=\"checkoutData\">尽快送达 | 预计 {{checkoutData.delivery_reach_time}}</span>\r\n        </div>\r\n      </section>\r\n      <section class=\"card pay-methods flex\">\r\n        <div class=\"pay-left weight\">支付方式</div>\r\n        <div class=\"pay-right\">\r\n          <span>在线支付</span>\r\n          <van-icon name=\"arrow\" />\r\n        </div>\r\n      </section>\r\n      <section class=\"food card\">\r\n        <header class=\"shop-name weight border\" v-if=\"checkoutData\">\r\n          <span>{{checkoutData.cart.restaurant_info.name}}</span>\r\n        </header>\r\n        <ul class=\"food-detail\" v-if=\"checkoutData\">\r\n          <li class=\"list flex\" v-for=\"item in checkoutData.cart.groups[0]\" :key=\"item.id\">\r\n            <div class=\"food-name\">{{item.name}}</div>\r\n            <div class=\"food-num\">x {{item.quantity}}</div>\r\n            <div class=\"food-price weight\">¥{{item.price}}</div>\r\n          </li>\r\n        </ul>\r\n        <div class=\"box-price list flex\" v-if=\"checkoutData\">\r\n          <div class=\"box-left\">{{checkoutData.cart.extra[0].name}}费</div>\r\n          <div class=\"box-right weight\">¥ {{checkoutData.cart.extra[0].price}}</div>\r\n        </div>\r\n        <div class=\"delivery list flex border\" v-if=\"checkoutData\">\r\n          <div class=\"delivery-left\">\r\n            <span>配送费*</span>\r\n            <span>蜂鸟配送</span>\r\n          </div>\r\n          <div class=\"delivery-right weight\">¥ {{checkoutData.cart.deliver_amount || 0}}</div>\r\n        </div>\r\n        <div class=\"hongbao list flex border\">\r\n          <div class=\"hongbao-left weight\">红包/抵用券</div>\r\n          <div class=\"hongbao-right\">\r\n            <span>无可用红包</span>\r\n            <van-icon name=\"arrow\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"pay-money list flex\" v-if=\"checkoutData\">\r\n          <div class=\"pay-left\"></div>\r\n          <div class=\"pay-right\">\r\n            <span>小计</span>\r\n            <span class=\"weight pay-price\">¥{{checkoutData.cart.total}}</span>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section class=\"remarks card\">\r\n        <div class=\"order-remark flex base\" @click=\"writeRemark\">\r\n          <div class=\"remark-left weight\">订单备注</div>\r\n          <div class=\"remark-right choose\">\r\n            <span>口味、偏好</span>\r\n            <van-icon name=\"arrow\" :class=\"{'arrow-icon': showRemark}\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"remark-detail\" v-show=\"showRemark\">\r\n          <van-field\r\n            v-model=\"message\"\r\n            rows=\"1\"\r\n            autosize\r\n            label=\"备注\"\r\n            type=\"textarea\"\r\n            placeholder=\"请输入备注内容\"\r\n          />\r\n        </div>\r\n        <div class=\"tableware flex base\" @click=\"showPopup\">\r\n          <div class=\"tableware-left weight\">餐具份数</div>\r\n          <div class=\"tableware-right choose\">\r\n            <span>{{tablewareNum}}</span>\r\n            <van-icon name=\"arrow\" />\r\n          </div>\r\n        </div>\r\n        <van-popup v-model=\"show\" closeable position=\"bottom\" :style=\"{ height: '30%' }\">\r\n          <van-picker\r\n            show-toolbar\r\n            :columns=\"columns\"\r\n            @cancel=\"onCancel\"\r\n            @confirm=\"onConfirm\"\r\n            title=\"选择本单餐具\"\r\n          />\r\n        </van-popup>\r\n        <div class=\"invoice flex base\">\r\n          <div class=\"invoice-left weight\">发票信息</div>\r\n          <div class=\"invoice-right choose\">该店不支持线上开票，请电话联系商户</div>\r\n        </div>\r\n      </section>\r\n    </section>\r\n\r\n    <footer class=\"confirm-pay\" v-if=\"checkoutData\">\r\n      <div class=\"footer-left\">待支付 ¥{{checkoutData.cart.total}}</div>\r\n      <div class=\"footer-right\" @click=\"confrimOrder\">确认下单</div>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport { checkout, reqUserAddressList, placeOrders } from \"@/api/index\";\r\nimport { Dialog, Notify } from \"vant\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      showList: false,\r\n      restaurant_id: 0, // 当前购物车商店id\r\n      shopCart: null, //当前商店购物车\r\n      checkoutData: null, //获取购物信息\r\n      showRemark: false, //是否显填写订单页面\r\n      message: \"\", // 备注内容\r\n      show: false,\r\n      columns: [\"无需餐具\", \"1份\", \"2份\", \"3份\", \"4份\", \"5份\"], //餐具份数\r\n      tablewareNum: \"1份\" // 餐具分数,默认为1份\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"cartList\", \"userInfo\", \"chooseAddress\", \"geohash\"])\r\n  },\r\n  created() {\r\n    this.restaurant_id = this.$route.query.restaurant_id;\r\n    //获取当前商铺购物车信息\r\n    this.shopCart = this.cartList[this.restaurant_id];\r\n  },\r\n  mounted() {\r\n    this.initData();\r\n  },\r\n  methods: {\r\n    ...mapActions([\"selectAddress\"]),\r\n    //返回上一级\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 初始化数据\r\n    async initData() {\r\n      let newArr = new Array();\r\n      Object.values(this.shopCart).forEach(categoryItem => {\r\n        Object.values(categoryItem).forEach(itemValue => {\r\n          Object.values(itemValue).forEach(item => {\r\n            newArr.push({\r\n              attrs: [],\r\n              extra: {},\r\n              id: item.id,\r\n              name: item.name,\r\n              packing_fee: item.packing_fee,\r\n              price: item.price,\r\n              quantity: item.num,\r\n              sku_id: item.sku_id,\r\n              specs: [item.specs],\r\n              stock: item.stock\r\n            });\r\n          });\r\n        });\r\n      });\r\n      // 检查订单是否满足条件\r\n      const checkRes = await checkout(\r\n        this.geohash,\r\n        [newArr],\r\n        this.restaurant_id\r\n      );\r\n      this.checkoutData = checkRes.data;\r\n      this.initAddress();\r\n    },\r\n\r\n    //获取地址信息，第一个地址为默认选择地址\r\n    async initAddress() {\r\n      if (this.userInfo && this.userInfo.user_id && !this.chooseAddress) {\r\n        const addressRes = await reqUserAddressList(this.userInfo.user_id);\r\n\r\n        if (\r\n          addressRes.data.data instanceof Array &&\r\n          addressRes.data.data.length\r\n        ) {\r\n          console.log(1);\r\n          this.selectAddress(addressRes.data.data[0]);\r\n        }\r\n      }\r\n    },\r\n\r\n    //地址备注颜色\r\n    iconColor(name) {\r\n      switch (name) {\r\n        case \"公司\":\r\n          return \"#4cd964\";\r\n        case \"学校\":\r\n          return \"#3190e8\";\r\n      }\r\n    },\r\n    // 添加地址或者选择地址\r\n    addAddress() {\r\n      if (!this.userInfo) {\r\n        this.$router.push(\"/login\");\r\n      } else {\r\n        this.$router.push({\r\n          path: \"/user/editAddress\",\r\n          query: { restaurant_id: this.restaurant_id }\r\n        });\r\n      }\r\n    },\r\n\r\n    // 填写订单\r\n    writeRemark() {\r\n      this.showRemark = !this.showRemark;\r\n    },\r\n    // 显示遮挡层\r\n    showPopup() {\r\n      this.show = true;\r\n    },\r\n    // 确认餐具分数\r\n    onConfirm(value, index) {\r\n      this.tablewareNum = value;\r\n      this.show = false;\r\n    },\r\n    // 取消选择餐具分数\r\n    onCancel() {\r\n      this.show = false;\r\n    },\r\n    //确认订单\r\n    async confrimOrder() {\r\n      //用户未登录时弹出提示框\r\n      if (!this.userInfo) {\r\n        Notify({ type: \"danger\", message: \"抱歉,您还未登陆\" });\r\n        return;\r\n        //未选择地址则提示\r\n      } else if (!this.chooseAddress) {\r\n        Notify({ type: \"danger\", message: \"抱歉,你还未选择收货地址\" });\r\n        return;\r\n      }\r\n      //保存订单\r\n      // this.SAVE_ORDER_PARAM({\r\n      //     user_id: this.userInfo.user_id,\r\n      //     cart_id: this.checkoutData.cart.id,\r\n      //     address_id: this.choosedAddress.id,\r\n      //     description: this.remarklist,\r\n      //     entities: this.checkoutData.cart.groups,\r\n      //     geohash: this.geohash,\r\n      //     sig: this.checkoutData.sig,\r\n      // });\r\n      //发送订单信息\r\n      let orderRes = await placeOrders(\r\n        this.userInfo.user_id,\r\n        this.checkoutData.cart.id,\r\n        this.chooseAddress.id,\r\n        this.remarklist,\r\n        this.checkoutData.cart.groups,\r\n        this.geohash,\r\n        this.checkoutData.sig\r\n      );\r\n      this.$router.push(\"/confirmOrder/payment\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.confirmOrder {\r\n  padding-bottom: 50px;\r\n  .confirm-header {\r\n    position: relative;\r\n    height: 50px;\r\n    color: #fff;\r\n    background-color: #01a3f8;\r\n    .header-left {\r\n      line-height: 50px;\r\n    }\r\n    .header-middle {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 50%;\r\n      width: 50%;\r\n      text-align: center;\r\n      line-height: 50px;\r\n      transform: translateX(-50%);\r\n    }\r\n  }\r\n  .confirm-container {\r\n    padding: 10px;\r\n    .card {\r\n      margin: 10px 0;\r\n      padding: 10px;\r\n      border-radius: 5px;\r\n      background-color: #fff;\r\n    }\r\n    .weight {\r\n      font-weight: 600;\r\n    }\r\n    .flex {\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n    .border {\r\n      border-bottom: 1px solid #ccc;\r\n    }\r\n    .send-position {\r\n      position: relative;\r\n      height: 60px;\r\n      .add-address {\r\n        line-height: 40px;\r\n        .image-location {\r\n          display: inline-block;\r\n          width: 30px;\r\n          text-align: center;\r\n          vertical-align: middle;\r\n          color: #333;\r\n        }\r\n      }\r\n      .address-detail-container {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-left: 3px;\r\n        font-size: 14px;\r\n        .address-left {\r\n          width: 30px;\r\n          margin-top: 10px;\r\n          font-size: 20px;\r\n        }\r\n        .address-right {\r\n          flex: 1;\r\n          header {\r\n            color: #777;\r\n            span:nth-of-type(1) {\r\n              color: #000;\r\n              margin-left: 3px;\r\n              font-weight: bold;\r\n            }\r\n            span:nth-of-type(2) {\r\n              margin: 0 3px;\r\n            }\r\n          }\r\n          .address-detail {\r\n            display: flex;\r\n            width: 100%;\r\n            align-items: center;\r\n            font-size: 12px;\r\n            span {\r\n              display: inline-block;\r\n              border-radius: 3px;\r\n              padding: 2px 5px;\r\n              margin-right: 5px;\r\n              color: #fff;\r\n              line-height: 20px;\r\n              background-color: #ff5722;\r\n            }\r\n            p {\r\n              width: 80%;\r\n              color: #000;\r\n              font-weight: 600;\r\n              overflow: hidden;\r\n              text-overflow: ellipsis;\r\n              white-space: nowrap;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .address-choose {\r\n        position: absolute;\r\n        right: 10px;\r\n        top: 0;\r\n        line-height: 60px;\r\n      }\r\n    }\r\n    .line {\r\n      height: 2px;\r\n      margin-top: -10px;\r\n      background: repeating-linear-gradient(\r\n        -45deg,\r\n        #ff6c6c 0,\r\n        #ff6c6c 20%,\r\n        transparent 0,\r\n        transparent 25%,\r\n        #1989fa 0,\r\n        #1989fa 45%,\r\n        transparent 0,\r\n        transparent 50%\r\n      );\r\n      background-size: 80px;\r\n    }\r\n    .send-time {\r\n      height: 60px;\r\n      .time-left {\r\n        line-height: 40px;\r\n      }\r\n      .time-right {\r\n        flex: 1;\r\n        text-align: right;\r\n        line-height: 40px;\r\n        color: #01a3f8;\r\n      }\r\n    }\r\n    .pay-methods {\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n    .food {\r\n      .list {\r\n        height: 36px;\r\n        line-height: 36px;\r\n      }\r\n      .shop-name {\r\n        height: 50px;\r\n        line-height: 50px;\r\n      }\r\n      .pay-price {\r\n        font-size: 20px;\r\n        color: #ff5722;\r\n      }\r\n      .food-detail {\r\n        li {\r\n          position: relative;\r\n          .food-num {\r\n            position: absolute;\r\n            left: 50%;\r\n            color: #ff5722;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .remarks {\r\n      .base {\r\n        height: 36px;\r\n        line-height: 36px;\r\n        border-bottom: 1px solid #ccc;\r\n      }\r\n      .choose {\r\n        font-size: 12px;\r\n        color: #999;\r\n      }\r\n      .arrow-icon {\r\n        transform: rotate(90deg);\r\n        transition: all 0.3s linear;\r\n      }\r\n    }\r\n  }\r\n  .confirm-pay {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    position: fixed;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 50px;\r\n    .footer-left {\r\n      height: 50px;\r\n      line-height: 50px;\r\n      padding: 0 10px;\r\n      width: 60%;\r\n      color: #ccc;\r\n      background-color: #000;\r\n    }\r\n    .footer-right {\r\n      flex: 1;\r\n      height: 50px;\r\n      line-height: 50px;\r\n      padding: 0 10px;\r\n      text-align: center;\r\n      color: #fff;\r\n      background-color: #56d176;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./confirmOrder.vue?vue&type=template&id=1faa2043&scoped=true&\"\nimport script from \"./confirmOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirmOrder.vue?vue&type=style&index=0&id=1faa2043&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1faa2043\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}