(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55724618"],{"04db":function(t,e,i){},"07ac":function(t,e,i){var s=i("23e7"),r=i("6f53").values;s({target:"Object",stat:!0},{values:function(t){return r(t)}})},1148:function(t,e,i){"use strict";var s=i("a691"),r=i("1d80");t.exports="".repeat||function(t){var e=String(r(this)),i="",n=s(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}},1276:function(t,e,i){"use strict";var s=i("d784"),r=i("44e7"),n=i("825a"),a=i("1d80"),o=i("4840"),c=i("8aa5"),l=i("50c4"),u=i("14c3"),d=i("9263"),f=i("d039"),p=[].push,h=Math.min,g=4294967295,v=!f((function(){return!RegExp(g,"y")}));s("split",2,(function(t,e,i){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var s=String(a(this)),n=void 0===i?g:i>>>0;if(0===n)return[];if(void 0===t)return[s];if(!r(t))return e.call(s,t,n);var o,c,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=new RegExp(t.source,f+"g");while(o=d.call(v,s)){if(c=v.lastIndex,c>h&&(u.push(s.slice(h,o.index)),o.length>1&&o.index<s.length&&p.apply(u,o.slice(1)),l=o[0].length,h=c,u.length>=n))break;v.lastIndex===o.index&&v.lastIndex++}return h===s.length?!l&&v.test("")||u.push(""):u.push(s.slice(h)),u.length>n?u.slice(0,n):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r,i):s.call(String(r),e,i)},function(t,r){var a=i(s,t,this,r,s!==e);if(a.done)return a.value;var d=n(t),f=String(this),p=o(d,RegExp),m=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),b=new p(v?d:"^(?:"+d.source+")",y),_=void 0===r?g:r>>>0;if(0===_)return[];if(0===f.length)return null===u(b,f)?[f]:[];var C=0,x=0,w=[];while(x<f.length){b.lastIndex=v?x:0;var O,A=u(b,v?f:f.slice(x));if(null===A||(O=h(l(b.lastIndex+(v?0:x)),f.length))===C)x=c(f,x,m);else{if(w.push(f.slice(C,x)),w.length===_)return w;for(var E=1;E<=A.length-1;E++)if(w.push(A[E]),w.length===_)return w;x=C=O}}return w.push(f.slice(C)),w}]}),!v)},"147d":function(t,e,i){t.exports=i.p+"img/meishi.3c50d624.png"},"14c3":function(t,e,i){var s=i("c6b6"),r=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var n=i.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==s(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"24af":function(t,e,i){"use strict";var s=i("04db"),r=i.n(s);r.a},"25f0":function(t,e,i){"use strict";var s=i("6eeb"),r=i("825a"),n=i("d039"),a=i("ad6d"),o="toString",c=RegExp.prototype,l=c[o],u=n((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=o;(u||d)&&s(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),i=t.flags,s=String(void 0===i&&t instanceof RegExp&&!("flags"in c)?a.call(t):i);return"/"+e+"/"+s}),{unsafe:!0})},2909:function(t,e,i){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("e260"),i("d3b7"),i("25f0"),i("3ca3"),i("ddb0");function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(t){return s(t)||r(t)||n()}i.d(e,"a",(function(){return a}))},"3c34":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAw1BMVEUAAAAA0A0A0A0A0A0A0A4A0Q4A0xIA5ikA0Q4A0A4A0A4A0Q0A0Q8A0w4A0hIA1xQAzw4A0A4A0A0Azw4A0A4A0A0Azw8Azw8Azw4AzxAA0Q4Azw3///8I0BQT0h4Z1CT6/vrV99fy/PK38rpi4mqO6pNE3E0v2DnP9tHE9Mem7qqC54go1zP2/fad7aJ75oFP3lfe+N/a+Nvv/O/r++zj+uTI9cqF6Isi1S3o+um98sCW65s920au77Jc4GQ22UBq43GiLjBXAAAAG3RSTlMA68X64EkqBlW6pJljNhwT9e/Sy7Ksi3trQDhS7vz/AAAEfElEQVRo3rzWWQKDIAwE0CQgoFC1m13m/vfsAdSKQnw3yMx8hHbzLry6Vm6WjWF7k7Z7BedJl3s/LRbZ59uRjiF1jL+4SwNV5sPDIIN5hJqpX+IV2a7xQnV8WuzUfqhcIzhAmtKQ7zjoXhL4EFEgHp54YhThREf0gmLSHxgVowLeOzI/oZLJl8esH7ezqMg6yvRlVMXfzFmNqGzMmlgwqM6EjHsNFJhms98RKsaNnh1DCTv6o7dQY3ta5QWKxNOaCaqm1UFDWbNSMEMZL9csUCe0IOEEiWYGxgl4/odFnCLO/tgfr3W2kzAQhQFYA0owMcYtav4zTEs3lhawVfbF938qO2QooPQMw0W/u7n6M5M5Cyryd+t9RkWeKy7hvZuKSokvqQ9U6ONqr4kKNe2/tAj7q26aOTO32/uJcKl7uxoW/jyhQ+3BEhxzLTceYdTqz+i/1McFHhu7vRJGfptOc0PY2+2cLzCQHpXrCdh60eOhBl70RZyOhKXag56HxlzeLIZiPR3vwIq/yORTws7dlXINjuiQlvWCzmFa0B8Xry1g5Xq7w4M1JM2VxUnxVNaEtAnsqO3+HZzYIW0JpbikhJLqUzKFlfc8+BWcBWkOtgJ9/MZWj7QVrLzmwXUwREY78ijJEVC6pDkt2Kjn/RKcERUC5KYJaX3kQir4sNIw/K0B7Q020/Xs4LjcDBPKJR1vMAksg28NjXpuLOEgFBAyCsOoZdeu38BJieWuIUZFdSfeMMKZ3gx9KyFG24ecZHRkPDq3dzXBaXPXjUXgnHj8EGdoGvbLTyrlicilkxbinF3zCRyPyozFyCl9CwmTJ75/YEgl0pbKvTy5bphNMZVYbhxiuMI4n2pgjcv2HZd2MjohAK/2y5zZ7TQIBUE4atLWqjEaE01mu4dS+oMgrQoWi619/6cyRn4CIpO0aeW75eLAsjtndpcdvJA6LONJimvwEWavE5txHhJ2MOvHR/UZndeZX2RCNACQqcmKhZqN1ExdJJ2NZCgAJ/340kUZk+S6BaEue7WIgwcM3FQyfUDD/AEpp1MwHKkSIZScVZILericR8XvIAJyDsrC/iUewhkSyeyD41eUc+0L54lcEvcAR9/KVWyEY5NrsYcqvKhWsPYNdS+1PgStCDWehRIQ69NFCk1se7wcpZ5LE6EsiNnLFIRZL3upAKDTyWbr6KcwIqIf34aeYuTVU5QYCsGhhv4BlM1cUWEizbi8helgJ4Jm16topNPQphJ01lTDxOaeNDTmFB3+fS4zmv29RvPGlXqiKQiXZPjCmFu7DWPOrsm4iTJd1yY0444O2Dhx8l76uz+mhNArRor74G+D0Sx6cR+9iapn81b5pnuIRYhJLDaWuDjQJiQOiJu/+v9B+ZFXA21Yhhx1/dOOhdcRV3xtWWp+dW8HRAAAIAgD+7e2gwI3zLFfLONywnUm1bNwQoBj0ACKndzwkJGXVTEhmY/OcbGgh0eyQaiewPLRr5Y5d8BuGWVvwvuCXaFv0LgsKb0TzmY76h+tNmvZg5lOvA8OU9y6bDob0foAAAAASUVORK5CYII="},"3ca3":function(t,e,i){"use strict";var s=i("6547").charAt,r=i("69f3"),n=i("7dd0"),a="String Iterator",o=r.set,c=r.getterFor(a);n(String,"String",(function(t){o(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=s(i,r),e.index+=t.length,{value:t,done:!1})}))},"408a":function(t,e,i){var s=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},"44e7":function(t,e,i){var s=i("861d"),r=i("c6b6"),n=i("b622"),a=n("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},"4df4":function(t,e,i){"use strict";var s=i("f8c2"),r=i("7b0b"),n=i("9bdd"),a=i("e95a"),o=i("50c4"),c=i("8418"),l=i("35a1");t.exports=function(t){var e,i,u,d,f,p=r(t),h="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,m=void 0!==v,y=0,b=l(p);if(m&&(v=s(v,g>2?arguments[2]:void 0,2)),void 0==b||h==Array&&a(b))for(e=o(p.length),i=new h(e);e>y;y++)c(i,y,m?v(p[y],y):p[y]);else for(d=b.call(p),f=d.next,i=new h;!(u=f.call(d)).done;y++)c(i,y,m?n(d,v,[u.value,y],!0):u.value);return i.length=y,i}},"58f6":function(t,e,i){t.exports=i.p+"img/shop.0db7c34b.png"},6547:function(t,e,i){var s=i("a691"),r=i("1d80"),n=function(t){return function(e,i){var n,a,o=String(r(e)),c=s(i),l=o.length;return c<0||c>=l?t?"":void 0:(n=o.charCodeAt(c),n<55296||n>56319||c+1===l||(a=o.charCodeAt(c+1))<56320||a>57343?t?o.charAt(c):n:t?o.slice(c,c+2):a-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},"6e7b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"shop",staticClass:"shop"},[s("header",{staticClass:"header"},[s("div",{staticClass:"header-top"},[s("span",{on:{click:t.goBack}},[s("van-icon",{attrs:{name:"arrow-left"}})],1),s("img",{attrs:{src:i("147d"),alt:""}})]),t._m(0),s("div",{staticClass:"header-bottom"},[t.shopDetailData?s("h3",{staticClass:"shop-name style-center"},[t._v(t._s(t.shopDetailData.name))]):t._e(),s("div",{staticClass:"shop-detail style-center"},[t.shopDetailData?s("span",[t._v("评价"+t._s(t.shopDetailData.rating)+" 月售3955单 配送约37分钟")]):t._e()]),s("p",{staticClass:"shop-toast style-center"})])]),s("section",{ref:"main",staticClass:"main"},[s("div",{staticClass:"tabs"},[s("span",{staticClass:"tab",class:{active:"products"==t.chooseType},on:{click:function(e){return t.selectType("products")}}},[t._v("商品")]),s("span",{staticClass:"tab",class:{active:"appraise"==t.chooseType},on:{click:function(e){return t.selectType("appraise")}}},[t._v("评价")])]),s("section",{staticClass:"tabs-content"},[s("transition",{attrs:{name:"shop"}},[s("section",{directives:[{name:"show",rawName:"v-show",value:"products"==t.chooseType,expression:"chooseType == 'products'"}],staticClass:"products"},[s("div",{staticClass:"products-content"},[s("aside",{staticClass:"products-nav"},[s("ul",t._l(t.menuList,(function(e,i){return s("li",{key:i,staticClass:"ellipsis",class:{active:t.selected===i},on:{click:function(e){return t.chooseSelected(i)}}},[t._v(" "+t._s(e.name)+" "),t.categoryNum[i]&&1==e.type?s("span",{staticClass:"category-num"},[t._v(t._s(t.categoryNum[i]))]):t._e()])})),0)]),s("section",{ref:"products",staticClass:"products-container",on:{scroll:t.handleScroll}},t._l(t.menuList,(function(e,i){return s("ul",{key:e.id,ref:"list"+i,refInFor:!0},[s("li",[s("header",{staticClass:"products-container-title"},[s("span",[t._v(t._s(e.name))]),s("span",{staticClass:"head-middle ellipsis"},[t._v(t._s(e.description))])])]),t._l(e.foods,(function(e,i){return s("li",{key:i},[s("div",{staticClass:"img-container"},[s("img",{staticClass:"food-image",attrs:{src:e.image_path}}),e.attributes.length?s("ul",{staticClass:"attributes_ul"},t._l(e.attributes,(function(e,i){return s("li",{key:i,class:{attribute_new:"新"==e.icon_name},style:{color:"#"+e.icon_color,borderColor:"#"+e.icon_color}},[s("p",{style:{color:"新"==e.icon_name?"#fff":"#"+e.icon_color}},[t._v(t._s("新"==e.icon_name?"新品":e.icon_name))])])})),0):t._e()]),s("section",{staticClass:"food-detail ellipsis"},[s("h3",{staticClass:"food-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"food-description ellipsis"},[t._v(t._s(e.description))]),s("p",{staticClass:"food-rating"},[s("span",[t._v(t._s(e.tips))])]),s("div",{staticClass:"food-tag ellipsis"},[e.activity?s("span",{style:{color:"#"+e.activity.image_text_color}},[t._v(t._s(e.activity.image_text))]):t._e()]),s("div",{staticClass:"food-price"},[s("span",[t._v("￥20 元")])]),s("div",{staticClass:"shopChoose"},[s("v-cartControl",{attrs:{food:e},on:{getStartDotPosition:t.getStartDotPosition}})],1)])])}))],2)})),0)]),s("footer",{staticClass:"shop-cart"},[s("v-shopCart",{attrs:{cartFoodList:t.cartFoodList,menuList:t.menuList,geohash:t.geohash},on:{getEndDotPosition:t.getEndDotPosition}})],1)])]),s("transition",{attrs:{name:"shop"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:"appraise"==t.chooseType,expression:"chooseType == 'appraise'"}],staticClass:"appraise",on:{scroll:t.ratingScroll}},[t.shopDetailData&&t.ratingScoresData&&t.ratingTagsList?s("section",{staticClass:"rating-container"},[s("header",{staticClass:"rating-header"},[s("div",{staticClass:"header-left"},[s("p",{staticClass:"average-rating"},[t._v(t._s(t.shopDetailData.rating))]),s("p",[t._v("综合评价")]),s("p",[t._v(t._s((100*t.ratingScoresData.compare_rating).toFixed(1))+"%")])]),s("div",{staticClass:"header-right"},[s("div",{staticClass:"service-attitude"},[s("span",[t._v("服务态度")]),s("span",[t._v("★★★★★")]),s("span",[t._v(t._s(t.ratingScoresData.service_score.toFixed(1)))])]),s("div",{staticClass:"score"},[s("span",[t._v("菜品评价")]),s("span",[t._v("★★★★★")]),s("span",[t._v(t._s(t.ratingScoresData.food_score.toFixed(1)))])]),s("div",{staticClass:"accept-time"},[s("span",[t._v("送达时间")]),s("span",[t._v(t._s(t.shopDetailData.order_lead_time)+"分钟")])])])])]):t._e(),s("section",{staticClass:"rating-select-category"},[s("div",{staticClass:"tag"},t._l(t.ratingTagsList,(function(e,i){return s("span",{key:i,class:{active:t.ratingTageIndex==i},on:{click:function(s){return t.changeTgeIndex(i,e.name)}}},[t._v(t._s(e.name)+"("+t._s(e.count)+")")])})),0),t._l(t.ratingList,(function(e,r){return s("ul",{key:r,staticClass:"rating-list"},[s("li",{staticClass:"rating-item"},[s("div",{staticClass:"item-left"},[s("img",{attrs:{src:i("3c34"),alt:""}})]),s("div",{staticClass:"item-right"},[s("div",{staticClass:"user-info"},[s("span",[t._v(t._s(e.username))]),s("span",[t._v(t._s(e.rated_at))])]),s("div",{staticClass:"user-rating-nmber"},[s("span",[t._v("★★★★★")]),s("span",[t._v(t._s(e.time_spent_desc))])]),s("p",{staticClass:"rating-info"},[t._v("味道很好,肉很多,好评!")]),t.hasimg?s("div",{staticClass:"have-img"},[s("img",{attrs:{src:"",alt:""}})]):t._e(),s("div",{staticClass:"food-detail"},[s("span",[s("van-icon",{attrs:{name:"good-job-o"}})],1),t._l(e.item_ratings,(function(e){return s("span",{key:e.id},[t._v(t._s(e.food_name))])}))],2)])])])}))],2)])])],1)]),s("transition",{attrs:{appear:""},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.ballFlag,expression:"ballFlag"}],staticClass:"ball"},[s("div",{staticClass:"inner inner-hook"})])])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-middle"},[s("img",{attrs:{src:i("58f6"),alt:""}})])}],n=(i("a4d3"),i("99af"),i("4de4"),i("b0c0"),i("b680"),i("e439"),i("dbb4"),i("b64b"),i("07ac"),i("ac1f"),i("1276"),i("159b"),i("2909")),a=(i("96cf"),i("1da1")),o=i("ade3"),c=i("2f62"),l=i("365c"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cartControl-wrapper"},[i("transition",{attrs:{name:"fade"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.foodNum,expression:"foodNum"}],staticClass:"cart-decrease",on:{click:function(e){return t.decreaseCart(t.food.restaurant_id,t.food.category_id,t.food.item_id,t.food.specfoods[0].food_id)}}},[t._v("-")])]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.foodNum,expression:"foodNum"}],staticClass:"cart-count"},[t._v(t._s(t.foodNum))]),i("span",{staticClass:"cart-add",on:{click:function(e){return t.addToCart(t.food.restaurant_id,t.food.category_id,t.food.item_id,t.food.specfoods[0].food_id,t.food.specfoods[0].name,t.food.specfoods[0].price,"",t.food.specfoods[0].packing_fee,t.food.specfoods[0].sku_id,t.food.specfoods[0].stock,e)}}},[t._v("+")])],1)},d=[];function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={props:["food"],computed:p({},Object(c["c"])(["cartList"]),{shopCart:function(){return this.cartList[this.food.restaurant_id]},foodNum:function(){var t=this.food.category_id,e=this.food.item_id,i=this.food.specfoods[0].food_id;return this.shopCart&&this.shopCart[t]&&this.shopCart[t][e]&&this.shopCart[t][e][i]?this.shopCart[t][e][i].num:0}}),methods:p({},Object(c["b"])(["addCart","removeCart"]),{addToCart:function(t,e,i,s,r,n,a,o,c,l,u){this.addCart({restaurant_id:t,category_id:e,item_id:i,food_id:s,name:r,price:n,specs:a,packing_fee:o,sku_id:c,stock:l});var d=u.target.getBoundingClientRect().left,f=u.target.getBoundingClientRect().top;this.$emit("getStartDotPosition",{elLeft:d,elTop:f})},decreaseCart:function(t,e,i,s){this.foodNum>0&&this.removeCart({restaurant_id:t,category_id:e,item_id:i,food_id:s})}})},g=h,v=(i("9e5b"),i("2877")),m=Object(v["a"])(g,u,d,!1,null,"41e206c8",null),y=m.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"shopCart"},[i("div",{staticClass:"content",on:{click:function(e){return e.stopPropagation(),t.toggleList()}}},[i("div",{staticClass:"content-left"},[i("div",{staticClass:"logo-wrapper"},[i("div",{staticClass:"logo",class:{highlight:t.totalCount>0}},[i("van-icon",{class:{highlight:t.totalCount>0},attrs:{name:"shopping-cart-o"}})],1),i("div",{ref:"num",staticClass:"num"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.totalCount,expression:"totalCount"}]},[t._v(t._s(t.totalCount))])])]),i("div",{staticClass:"price",class:{highlight:t.totalPrice>0}},[t._v("￥"+t._s(t.totalPrice))]),i("div",{staticClass:"desc"},[t._v("另需配送费￥"+t._s(t.deliveryPrice)+"元")])]),i("div",{staticClass:"content-right"},[i("div",{staticClass:"pay",class:t.payClass},[0===t.totalPrice?i("div",[t._v(t._s(t.minPrice)+"元起送")]):t._e(),t.totalPrice<t.minPrice?i("div",[t._v("还差￥"+t._s(t.slowCount)+"元起送")]):t._e(),t.totalPrice>=t.minPrice?i("div",{on:{click:function(e){return e.stopPropagation(),t.goPay(e)}}},[t._v("添加订单")]):t._e()])])]),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow&&t.cartFoodList.length,expression:"listShow&&cartFoodList.length"}],staticClass:"shopcart-list"},[i("div",{staticClass:"list-header"},[i("h1",{staticClass:"title"},[t._v("购物车")]),i("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),i("div",{staticClass:"list-content"},[i("ul",t._l(t.cartFoodList,(function(e,s){return i("li",{directives:[{name:"show",rawName:"v-show",value:0!==e.num,expression:"food.num !== 0"}],key:s,staticClass:"shopcart-food"},[i("div",{staticClass:"name"},[t._v(t._s(e.name))]),i("div",{staticClass:"price"},[t._v("￥"+t._s(e.num*e.price))]),i("div",{staticClass:"cartControl-wrapper"},[i("v-cartControl",{attrs:{food:t.shopCartList[s]}})],1)])})),0)])])])],1)])},_=[];function C(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?C(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w={props:["cartFoodList","menuList"],data:function(){return{deliveryPrice:5,minPrice:30,fold:!1,listShow:!1,shopCartList:[],dotPosition:!1}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$refs.num.getBoundingClientRect().left,i=t.$refs.num.getBoundingClientRect().top;t.$emit("getEndDotPosition",{elLeft:e,elTop:i})}))},computed:{payClass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"},slowCount:function(){return this.minPrice-this.totalPrice},totalPrice:function(){var t=0;return this.cartFoodList.forEach((function(e){t+=e.num*e.price})),t},totalCount:function(){var t=0;return this.cartFoodList.forEach((function(e){t+=e.num})),t}},watch:{cartFoodList:function(t){this.cartList(t)}},methods:x({},Object(c["b"])(["clearCart"]),{toggleList:function(){this.listShow=!this.cartFoodList.length||(this.showCartList=!this.showCartList)},empty:function(){this.clearCart(this.cartFoodList[0].restaurant_id)},cartList:function(t){var e=[];this.menuList.forEach((function(i){i.foods.forEach((function(i){t.forEach((function(t){i.restaurant_id==t.restaurant_id&&i.category_id==t.category_id&&i.item_id==t.item_id&&i.specfoods[0].food_id==t.food_id&&e.push(i)}))}))})),this.shopCartList=e},goPay:function(){this.$router.push({path:"/confirmOrder",query:{restaurant_id:this.cartFoodList[0].restaurant_id}})}}),components:{vCartControl:y}},O=w,A=(i("24af"),Object(v["a"])(O,b,_,!1,null,"24a664d6",null)),E=A.exports;function L(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function P(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?L(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var j={components:{vCartControl:y,vShopCart:E},data:function(){return{shopId:null,shopDetailData:null,menuList:[],imgBaseUrl:"/img/",chooseType:"products",selected:0,typeElementHeight:null,categoryNum:[],totalPrice:0,cartFoodList:[],startDotPosition:null,endDotPosition:null,ballFlag:!1,hasimg:!1,ratingList:null,ratingOffset:0,ratingScoresData:null,ratingTagsList:null,ratingTageIndex:0,ratingTagName:""}},mounted:function(){this.initData()},computed:P({},Object(c["c"])(["cartList","geohash"])),watch:{cartList:function(t){this.getCartListDetail()}},methods:{initData:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i,s,r,n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.geohash),e=this.geohash.split(","),this.shopId=this.$route.query.id,console.log(this.shopId),t.next=6,Object(l["y"])(this.shopId,e[0],e[1]);case 6:return i=t.sent,this.shopDetailData=i.data,t.next=10,Object(l["h"])(this.shopId);case 10:return s=t.sent,this.menuList=s.data,t.next=14,Object(l["j"])(this.shopId,this.ratingOffset);case 14:return this.ratingList=t.sent,t.next=17,Object(l["n"])(this.shopId);case 17:return r=t.sent,console.log(r),this.ratingScores=r.data.data,t.next=22,Object(l["o"])(this.shopId);case 22:n=t.sent,this.ratingTagsList=n.data.data,this.getCartListDetail(),this.$nextTick((function(){a.menuList.forEach((function(t,e){a.typeElementHeight=Object.assign({},a.typeElementHeight,Object(o["a"])({},t.id,a.$refs["list"+e][0].offsetTop))}))}));case 26:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleScroll:function(t){this.$refs.shop.scrollTop=this.$refs.main.offsetTop;for(var e=t.target.scrollTop,i=Object.values(this.typeElementHeight),s=0,r=0;r<i.length;r++){if(s+=i[r],0!=r&&e>=s-i[r]&&e<s){this.selected=r;break}0==r&&e<s&&(this.selected=r)}},ratingScroll:function(){this.$refs.shop.scrollTop=this.$refs.main.offsetTop},selectType:function(t){this.chooseType=t},chooseSelected:function(t){this.$refs.shop.scrollTop=this.$refs.main.offsetTop,this.selected=t,this.$refs.products.scrollTop=this.$refs["list"+t][0].offsetTop-this.$refs["list0"][0].offsetTop},getCartListDetail:function(){var t=this,e=[],i=0;this.totalPrice=0,this.cartFoodList=[],this.menuList.forEach((function(s,r){if(t.cartList[s.restaurant_id]){var n=t.cartList[s.restaurant_id];if(n[s.foods[0].category_id]){var a=0;Object.keys(n[s.foods[0].category_id]).forEach((function(e){Object.keys(n[s.foods[0].category_id][e]).forEach((function(r){var o=n[s.foods[0].category_id][e][r];a+=o.num,1==s.type&&(t.totalPrice+=o.num*o.price,o.num>0&&(t.cartFoodList[i]={},t.cartFoodList[i].restaurant_id=s.restaurant_id,t.cartFoodList[i].category_id=s.foods[0].category_id,t.cartFoodList[i].item_id=e,t.cartFoodList[i].food_id=r,t.cartFoodList[i].num=o.num,t.cartFoodList[i].price=o.price,t.cartFoodList[i].name=o.name,t.cartFoodList[i].specs=o.specs,i++))}))})),e[r]=a}else e[r]=0}})),this.totalPrice=this.totalPrice.toFixed(2),this.categoryNum=[].concat(e),console.log(this.cartFoodList),console.log(this.categoryNum)},getStartDotPosition:function(t){this.startDotPosition=t,this.ballFlag=!this.ballFlag},getEndDotPosition:function(t){this.endDotPosition=t},changeTgeIndex:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,i){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.ratingTageIndex=e,this.ratingOffset=0,this.ratingTagName=i,t.next=5,Object(l["j"])(this.shopId,this.ratingOffset,i);case 5:s=t.sent,this.ratingList=Object(n["a"])(s);case 7:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),beforeEnter:function(t){t.style.left=this.startDotPosition.elLeft+"px",t.style.top=this.startDotPosition.elTop+"px",t.style.transform="translate(0, 0)"},enter:function(t,e){t.offsetHeight;var i=this.endDotPosition.elLeft-this.startDotPosition.elLeft,s=this.endDotPosition.elTop-this.startDotPosition.elTop;t.style.transform="translate(".concat(i,"px, ").concat(s,"px)"),t.style.transition="all 0.5s cubic-bezier(.4,-0.3,1,.68)",e()},afterEnter:function(t){this.ballFlag=!this.ballFlag},goBack:function(){this.$router.go(-1)}}},D=j,S=(i("d94d"),Object(v["a"])(D,s,r,!1,null,"c74debb8",null));e["default"]=S.exports},"6f53":function(t,e,i){var s=i("83ab"),r=i("df75"),n=i("fc6a"),a=i("d1e7").f,o=function(t){return function(e){var i,o=n(e),c=r(o),l=c.length,u=0,d=[];while(l>u)i=c[u++],s&&!a.call(o,i)||d.push(t?[i,o[i]]:o[i]);return d}};t.exports={entries:o(!0),values:o(!1)}},"820d":function(t,e,i){},"8aa5":function(t,e,i){"use strict";var s=i("6547").charAt;t.exports=function(t,e,i){return e+(i?s(t,e).length:1)}},9263:function(t,e,i){"use strict";var s=i("ad6d"),r=i("9f7f"),n=RegExp.prototype.exec,a=String.prototype.replace,o=n,c=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(o=function(t){var e,i,r,o,d=this,f=l&&d.sticky,p=s.call(d),h=d.source,g=0,v=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(h="(?: "+h+")",v=" "+v,g++),i=new RegExp("^(?:"+h+")",p)),u&&(i=new RegExp("^"+h+"$(?!\\s)",p)),c&&(e=d.lastIndex),r=n.call(f?i:d,v),f?r?(r.input=r.input.slice(g),r[0]=r[0].slice(g),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:c&&r&&(d.lastIndex=d.global?r.index+r[0].length:e),u&&r&&r.length>1&&a.call(r[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=o},"9e5b":function(t,e,i){"use strict";var s=i("820d"),r=i.n(s);r.a},"9f7f":function(t,e,i){"use strict";var s=i("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=s((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=s((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a630:function(t,e,i){var s=i("23e7"),r=i("4df4"),n=i("1c7e"),a=!n((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:a},{from:r})},ac1f:function(t,e,i){"use strict";var s=i("23e7"),r=i("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,i){"use strict";var s=i("825a");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b680:function(t,e,i){"use strict";var s=i("23e7"),r=i("a691"),n=i("408a"),a=i("1148"),o=i("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,i){return 0===e?i:e%2===1?u(t,e-1,i*t):u(t*t,e/2,i)},d=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));s({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,i,s,o,c=n(this),f=r(t),p=[0,0,0,0,0,0],h="",g="0",v=function(t,e){var i=-1,s=e;while(++i<6)s+=t*p[i],p[i]=s%1e7,s=l(s/1e7)},m=function(t){var e=6,i=0;while(--e>=0)i+=p[e],p[e]=l(i/t),i=i%t*1e7},y=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var i=String(p[t]);e=""===e?i:e+a.call("0",7-i.length)+i}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=d(c*u(2,69,1))-69,i=e<0?c*u(2,-e,1):c/u(2,e,1),i*=4503599627370496,e=52-e,e>0){v(0,i),s=f;while(s>=7)v(1e7,0),s-=7;v(u(10,s,1),0),s=e-1;while(s>=23)m(1<<23),s-=23;m(1<<s),v(1,1),m(2),g=y()}else v(0,i),v(1<<-e,0),g=y()+a.call("0",f);return f>0?(o=g.length,g=h+(o<=f?"0."+a.call("0",f-o)+g:g.slice(0,o-f)+"."+g.slice(o-f))):g=h+g,g}})},d28b:function(t,e,i){var s=i("746f");s("iterator")},d784:function(t,e,i){"use strict";var s=i("6eeb"),r=i("d039"),n=i("b622"),a=i("9263"),o=i("9112"),c=n("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,f){var p=n(t),h=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=h&&!r((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[c]=function(){return i},i.flags="",i[p]=/./[p]),i.exec=function(){return e=!0,null},i[p](""),!e}));if(!h||!g||"replace"===t&&(!l||!u)||"split"===t&&!d){var v=/./[p],m=i(p,""[t],(function(t,e,i,s,r){return e.exec===a?h&&!r?{done:!0,value:v.call(e,i,s)}:{done:!0,value:t.call(i,e,s)}:{done:!1}}),{REPLACE_KEEPS_$0:u}),y=m[0],b=m[1];s(String.prototype,t,y),s(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}f&&o(RegExp.prototype[p],"sham",!0)}},d94d:function(t,e,i){"use strict";var s=i("ec74"),r=i.n(s);r.a},ddb0:function(t,e,i){var s=i("da84"),r=i("fdbc"),n=i("e260"),a=i("9112"),o=i("b622"),c=o("iterator"),l=o("toStringTag"),u=n.values;for(var d in r){var f=s[d],p=f&&f.prototype;if(p){if(p[c]!==u)try{a(p,c,u)}catch(g){p[c]=u}if(p[l]||a(p,l,d),r[d])for(var h in n)if(p[h]!==n[h])try{a(p,h,n[h])}catch(g){p[h]=n[h]}}}},e01a:function(t,e,i){"use strict";var s=i("23e7"),r=i("83ab"),n=i("da84"),a=i("5135"),o=i("861d"),c=i("9bf2").f,l=i("e893"),u=n.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(f,u);var p=f.prototype=u.prototype;p.constructor=f;var h=p.toString,g="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=h.call(t);if(a(d,t))return"";var i=g?e.slice(7,-1):e.replace(v,"$1");return""===i?void 0:i}}),s({global:!0,forced:!0},{Symbol:f})}},ec74:function(t,e,i){}}]);
//# sourceMappingURL=chunk-55724618.382976e0.js.map